<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>マンデルブロ集合andジュリア集合 for webgl</title>
  <link rel="stylesheet" href="style.css">

  <script type="module" src="src/expressionShader.js"></script>
  <script type="module" src="src/renderer.js  "></script>
  <script type="module" src="src/controls.js"></script>
  <script type="module" src="complex-parser/pkg/complex_parser.js"></script>
  <script type="module" src="src/main.js"></script>
</head>

<body>
  <div class="container">
    <div class="main-container">
      <div class="canvas-container">
        <canvas id="canvas" width="1024" height="1024"></canvas>
        <div id="fpsCounter">FPS: 1</div>
      </div>
      <div class="info-container">
        <p id='datas'> data</p>
        <div>
            <button id="clearButton">リセット</button>
            <button id="shareButton">共有リンクをコピー</button>
        </div>
        <form id="radioForm">
          <label>
            <input type="radio" name="choice" value="MON" checked /> マンデルブロ集合
          </label><br>
          <label>
            <input type="radio" name="choice" value="Juri" /> ジュリア集合
          </label><br>
        </form>
        <div>
          彩色関数
          <select id="coloring" name="coloring">
            <option value="0">0:Time-Based Hue Shift</option>
            <option value="1">1:Sinusoidal Hue Animation</option>
            <option value="2">2:Dynamic Hue Based on Iteration</option>
            <option value="3">3:Cosine-Based Spectrum</option>
            <option value="4">4:Neon Glow Effect</option>
          </select>
        </div>

        <div class="scrollable">
          <div>
            <h3>使い方</h3>
            <p>複素数漸化式の式を入力してOKボタンを押してください</p>
            <p>例: z = z * z + C</p>
            <p>マンデルブロ集合なら'z',ジュリア集合なら'C'の初期値を下で指定可能(リアルタイム)</p>
            <p>初期値: Re:0, Im:0</p>
            <p>彩色関数を上のプルダウンで変更できます。</p>
            <p id="sousa1">マウスでドラッグで移動</p>
            <p id="sousa2">マウスホイールでズームイン、ズームアウト</p>
            <p>キーボードでズームイン: k, ズームアウト: j</p>
            <p>リセットボタンで位置とズームをリセット</p>
            <p>四則演算と関数呼び出しが可能</p>
          </div>
          <details>
            <summary>複素数漸化式の式の書き方</summary>
            <p>複素数漸化式の式の書き方</p>
            <p>四則演算と関数呼び出しが可能</p>
            <p>例(Mandelbrot): <code>z = z * z + C</code></p>
            <p>例(Mandelbrot): <code>z = pow(z,10) + C</code></p>
            <p>例(Julia): <code>z = z * z + ln(sin(t*0.5)  + 1.4)*0.5 + C</code></p>


          </details>
          <details>
            <summary>定義済み関数、変数一覧</summary>
            <div>
              <h3>変数と複素関数</h3>
              <table>
                <tr>
                  <th>関数</th>
                  <th>説明</th>
                </tr>
                <tr>
                  <td><code>z</code></td>
                  <td>複素数漸化式のz(complex,vec2)</td>
                </tr>
                <tr>
                  <td><code>C</code></td>
                  <td>複素数漸化式のC(complex,vec2)</td>
                </tr>
                <tr>
                  <td><code>t</code></td>
                  <td>時間(float)</td>
                </tr>
                <tr>
                  <td><code>i</code></td>
                  <td>虚数単位(vec2),1.0i等の表記も可能</td>
                </tr>
                <tr>
                  <td><code>real,imag,conj</code></td>
                  <td>複素操作</td>
                </tr>
                <tr>
                  <td><code>sin,cos,tan,asin,...</code></td>
                  <td>三角関数</td>
                </tr>
                <tr>
                  <td><code>exp,log,ln,abs,sqrt,pow</code></td>
                  <td>各種数学関数(複素数に対応)</td>
                </tr>
              </table>
            </div>
          </details>
        </div>
      </div>

    </div>
    <div class="formula-container">
      <p><input type="checkbox" id="check" checked><label for="check"> run</label></p>
      <div>
        式
        z=<input type="text" id="fanc" name="fanc" value="z * z + C" />
        初期値:
        Re:<input id="zr" type="number" value="0" />
        Im:<input id="zi" type="number" value="0" />
        <button id="setFunction">OK</button>
      </div>
    </div>
  </div>

</body>

</html>
